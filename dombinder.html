
<!DOCTYPE html>


<style>
	.state-0 {
		background-color: yellow;
	}
	.state-1 {
		background-color: orange;
	}
	.state-2 {
		background-color: red;
	}
</style>

<div class="state-{{a}}" data-app="example" data-data="example1">
	Hello {{b}}.
	<p>{{ b}} - how's it hanging, {{c}}?</p>
	<input value="{{d }}" />
	<!-- Hello -->
	<p style="background-color: {{ e }};">
		Evening all {{f     }}<br/>
		{{g|date:'a A b c d D F g G h H M n O'}}
		<a href="">{{h}}</a>
	</p>
</div>

<div class="state-{{a}}" data-app="example" data-data="example2">
	Hello {{ b|multiply:2|floatformat:2 }}.
	<p>{{ b}} - how's it hanging, {{c}}?</p>
	<input value="{{d }}" />
	<!-- Hello -->
	<p style="background-color: {{ e }};">
		Evening all {{f     }}
		<a href="{{g}}">{{h}}</a>
	</p>
</div>

<!--input value="{{value}}" data-app="input" data-context="input"/-->

<script src="js/jquery-2.0.0b2.js"></script>
<!--script src="js/app.js"></script-->
<script src="js/observe.js"></script>
<script src="js/nodebind.js"></script>
<script>

	var Sparky = {
		observe: observe,
		unobserve: unobserve
	};
	
	var app = Sparky;

data = {};

	jQuery('[data-app]').each(function(i, node) {
		function observe(property, fn) {
			app.observe(data, property, fn);
		}
		
		function unobserve(property, fn) {
			app.unobserve(data, property, fn);
		}

		function get(property) {
			return data[property];
		}

		window.dataBind(node, observe, unobserve, get);
	});


//	app.create('example', function update(node, data) {
//		console.log('example', node, data);
//	});
//
//	app.data('example1', {
//		a: 'a',
//		b: 'b',
//		c: 'c',
//		d: 'd',
//		e: 'e'
//	});
//
//	app.data('example2', {
//		a: '1',
//		b: '2',
//		c: '3',
//		d: '4',
//		e: '5'
//	});



//	app.controller.example = function() {
//		
//	}
//
//
//
//	var app = new App({
//		input: function(node, data) {
//			jQuery(node)
//			.on('change', function(e) {
//				data.value = node.value;
//			});
//		}
//	});
//
//
//	app('input', function(node, data) {
//		jQuery(node)
//		.on('change', function(e) {
//			data.value = node.value;
//		});
//	});
//
//
//	app.context = {
//		input: {
//			value: 1
//		}
//	};
//
//
//
//
//	var exampleApp = new App({
//		input: function(node, data) {
//			jQuery(node)
//			.on('change', function(e) {
//				data.value = node.value;
//			});
//		}
//	});

</script>
<script src="js/app.filters.js"></script>